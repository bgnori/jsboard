<html>
<head>
<title>jQuery Plugin test</sample>
<!--
  Copyright 2009 Noriyuki Hosaka bgnori@gmail.com
  -->

<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">
google.load("jquery", "1.3.1");
google.load("jqueryui", "1.5.3",  {uncompressed:true});
//google.load("jqueryui", "1.5.3");
</script>

<script type="text/javascript">
; // fool proof
/*
(function($){
  $.mydiv = function( elem, option ){
    $(elem).append($('<div style="background-color: red;">' +
      'this is widget' +
      '</div>'));
  };
  
  $.extend($.mydiv.prototype, {
    makeElement: function(){
      this.append($('<div style="background-color: red;">' +
        'this is widget' +
        '</div>'));
    },
  });

  $.fn.mydiv = function( option ){
    return this.each(function(){
      new $.mydiv( this, option );
    });
  };
})(jQuery); 
*/
/*
// some how it does not work....
//$.my = $.my || {};
(function($){
  $.widget("my.mydiv", {
    _init: function(){
      var t;
      t = this.element
      $(t).append($('<div style="background-color: red;">' +
        'this is widget' +
        '</div>'));
    },
  });
  $.extend($.my.mydiv, {
    version: '0.0'
  });
  
})(jQuery);
*/
    
(function($) {
  $.fn.mydiv = function() {
    $(this).append($('<div style="background-color: red;">' +
      'this is widget' +
      '</div>'));
  };

})(jQuery);

$(document).ready(function(){
  $('#target').mydiv();
});

</script>

<body>
<div id="target" style='background-color: blue; color: white;'>
  target div
</div>

</body>
</html>

